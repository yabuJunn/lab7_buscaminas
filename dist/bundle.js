(()=>{"use strict";var e={93:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MineTable=t.Square_Square=t.MineGrid=t.directorio=void 0,t.directorio=()=>{};var s=n(352);Object.defineProperty(t,"MineGrid",{enumerable:!0,get:function(){return s.MineGrid}});var r=n(40);Object.defineProperty(t,"Square_Square",{enumerable:!0,get:function(){return r.Square_Square}});var o=n(139);Object.defineProperty(t,"MineTable",{enumerable:!0,get:function(){return o.MineTable}})},352:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MineGrid=void 0;const s=n(527),r=n(500);n(93);class o extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),(0,s.addObserver)(this)}connectedCallback(){this.render()}render(){var e,t;if(this.shadowRoot){this.shadowRoot.innerHTML="";const n=this.ownerDocument.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("href","/src/components/grid/grid.css"),null===(e=this.shadowRoot)||void 0===e||e.appendChild(n);const o=this.ownerDocument.createElement("div");null===(t=this.shadowRoot)||void 0===t||t.appendChild(o);const i=(0,r.creationSquare)(s.state.selected);null==i||i.forEach((e=>{o.appendChild(e)}))}}}t.MineGrid=o,customElements.define("mine-grid",o)},40:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Square_Square=void 0;const s=n(527),r=n(170);class o extends HTMLElement{static get observedAttributes(){return Object.keys({mine:null,number:null,opened:null,ident:null})}constructor(){super(),this.properties={mine:"",number:"",opened:"",ident:""},this.attachShadow({mode:"open"})}attributeChangedCallback(e,t,n){switch(e){case"mine":this.properties.mine=n;break;case"number":this.properties.number=n;break;case"opened":this.properties.opened=n;break;case"ident":this.properties.ident=n}}connectedCallback(){this.render()}render(){var e,t;const n=this.ownerDocument.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("href","/src/components/square/square.css"),null===(e=this.shadowRoot)||void 0===e||e.appendChild(n);const o=this.ownerDocument.createElement("div");o.classList.add("square"),null===(t=this.shadowRoot)||void 0===t||t.appendChild(o),"true"===this.properties.mine&&o.classList.add("mine"),"true"===this.properties.opened&&o.classList.add("opened"),o.addEventListener("click",(()=>{(0,s.dispatch)((0,r.changeSelected)(this.properties.ident)),(0,s.dispatch)((0,r.addOpened)(this.properties.ident))}))}}t.Square_Square=o,customElements.define("square-square",o)},139:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MineTable=void 0,n(93);class s extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){var e,t;const n=this.ownerDocument.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("href","/src/components/table/table.css"),null===(e=this.shadowRoot)||void 0===e||e.appendChild(n);const s=this.ownerDocument.createElement("section");null===(t=this.shadowRoot)||void 0===t||t.appendChild(s);const r=this.ownerDocument.createElement("h1");r.innerHTML="Buscaminas",s.appendChild(r);const o=this.ownerDocument.createElement("mine-grid");s.appendChild(o)}}t.MineTable=s,customElements.define("mine-table",s)},170:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addOpened=t.uploadMines=t.changeSelected=void 0;const s=n(823);t.changeSelected=e=>({type:s.Actions.CHANGE_SELECTED,payload:e}),t.uploadMines=e=>({type:s.Actions.UPLOAD_MINES,payload:e}),t.addOpened=e=>({type:s.Actions.ADD_OPENED,payload:e})},527:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addObserver=t.dispatch=t.state=void 0;const s=n(601),r=[];t.state={selected:"",started:!1,mines:"",opened:[]},t.dispatch=e=>{const n=JSON.parse(JSON.stringify(t.state));t.state=(0,s.reducer)(e,n),r.forEach((e=>e.render())),console.log(t.state)},t.addObserver=e=>{r.push(e)}},601:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;const s=n(527),r=n(823);t.reducer=(e,t)=>{switch(e.type){case r.Actions.CHANGE_SELECTED:return!1===s.state.started?Object.assign(Object.assign({},t),{selected:e.payload,started:!0}):Object.assign(Object.assign({},t),{selected:e.payload});case r.Actions.UPLOAD_MINES:return Object.assign(Object.assign({},t),{mines:e.payload});case r.Actions.ADD_OPENED:const n=t.opened;return n.push(parseInt(e.payload)),Object.assign(Object.assign({},t),{opened:n});default:return t}}},823:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Actions=void 0,function(e){e.CHANGE_SELECTED="CHANGE_SELECTED",e.UPLOAD_MINES="UPLOAD_MINES",e.ADD_OPENED="ADD_OPENED"}(n||(t.Actions=n={}))},500:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.creationSquare=void 0,n(93);const s=n(527),r=n(170),o=n(32);t.creationSquare=e=>{const t=[];if(!1===s.state.started){for(let e=1;e<65;e++){const n=Math.ceil(e/8),s=(e-1)%8+1,r=document.createElement("square-square");r.setAttribute("ident",`${e}`),r.setAttribute("column",`${s}`),r.setAttribute("row",`${n}`),t.push(r)}return t}{let n=[];""===s.state.mines?(n=(0,o.randomCells)(10,parseInt(e)),console.log(n),(0,s.dispatch)((0,r.uploadMines)(JSON.stringify(n)))):n=JSON.parse(s.state.mines);for(let r=1;r<65;r++){const o=Math.ceil(r/8),i=(r-1)%8+1,a=document.createElement("square-square");a.setAttribute("ident",`${r}`),a.setAttribute("column",`${i}`),a.setAttribute("row",`${o}`),n.forEach((t=>{t===r&&a.setAttribute("mine","true"),parseInt(e)})),s.state.opened.forEach((e=>{console.log(e),e===r&&a.setAttribute("opened","true")})),t.push(a)}return t}}},32:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.randomCells=void 0,t.randomCells=(e,t)=>{const n=[];for(let s=0;s<e;s++){const e=(1,64,Math.floor(64*Math.random()+1));e!==t?n.push(e):s=-1}return n}}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,n),o.exports}(()=>{n(93);class e extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){var e;const t=this.ownerDocument.createElement("mine-table");null===(e=this.shadowRoot)||void 0===e||e.appendChild(t)}}customElements.define("app-container",e)})()})();